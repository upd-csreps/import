{% extends 'reviewer/base.html' %}


{% load static %}
{% block title %}
	{{announcement.title}}
{% endblock %}

{% block content %}
	<div class="container">
		<div class="d-flex flex-column align-items-center">
			<div class="row w-100 my-5">

				<div class="col-9 mx-auto mt-5">
					<h1 class="font-weight-bold">{{announcement.title}}</h1>

					<div class="d-flex justify-content-between my-3">
						<div class="d-flex">
							<span class="text-uppercase my-auto font-weight-bold">
								Posted by
							</span>

							{% if announcement.poster %}
								<a href="{% url 'user' announcement.poster.username%}" class="my-auto announcement-user mx-3">
									<img class="user-pic my-auto" src="
										{% if announcement.poster.prof_pic %}
											{{announcement.poster.prof_pic.url}}
										{% else %}
											{% static 'reviewer/images/default_profile.png' %}
										{% endif %}

										">
									<span class="my-auto">{{announcement.poster.username}}</span>
								</a>
							{% else %}
								<div class="my-auto announcement-user mx-3">
									<img class="user-pic my-auto" src="{% static 'reviewer/images/default_profile.png' %}">
									<span class="my-auto comment-username">import <span class="import-font-primary">*</span> ADMIN</span>
								</div>
							{% endif %}
						</div>

						<div class="date">
							<small>{{announcement.datepost|date:"M d, Y, h:i A"}}</small>
						</div>

					</div>


					<hr>

					<div class="my-4">
						<article id="announcement-content">



						</article>
					</div>

				</div>
				
			</div>
		</div>
		
	</div>

{% endblock %}


{% block scripts %}

	<script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>

	<script>


		var quillObj = {{ announcement_json | safe }};

		console.log(quillObj);

	  	var quill = new Quill('#announcement-content', {
		  	modules:{
		  		toolbar: false
		  	},
		  	readOnly: true,
		    theme: 'snow'
	  	});

	  	quill.setContents(quillObj["ops"]);

  </script>

{% endblock %}