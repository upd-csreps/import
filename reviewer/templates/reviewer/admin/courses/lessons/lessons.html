{% extends 'reviewer/admin/admin.html' %}

{% load static %}
{% block title %}
	{{title}}
{% endblock %}

{% block admin_side %}
	<div class="tab-pane fade show active" id="v-pills-courses" role="tabpanel" aria-labelledby="v-pills-courses-tab">
		{% include 'reviewer/admin/courses/lessons/lessons_add.html' %}
	</div>

{% endblock %}

{% block scripts %}
	{% if title == 'Edit Lesson' %}
	<script src="{% static 'reviewer/js/import_lessons.js' %}"></script>
	<script>
		$('.modal-dialog').addClass('modal-dialog-centered')
		$.get( "{% url 'admin_lesson' edit_lesson.pk 'question' %}", function( data ) {
			$(".modal-body").html(data);
			$(".modal-title").html( $(".modal-body .admin-title").html() );
			$(".modal-body .admin-title").remove();
		});

		$('.delete-question').on('click', function (e) {
			confirm('Are you sure you want to delete this question?')? null: e.preventDefault();
	    });

	    $('body').on('click', ".import-question-create", function (e) {
			e.preventDefault();
			if (!$(this).prop("disabled"))
				importApp.questions.create('lessons-q-form', "{% url 'admin_lesson' edit_lesson.id 'question' %}");
	    });

	</script>

	{% endif %}
{% endblock %}